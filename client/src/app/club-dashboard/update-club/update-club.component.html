<app-header></app-header>

<div class="well custom-container forPlayerClubBackgroundColor">
  <!-- Upload profile button -->
  <input type="file" accept="image/*" #profile (change)="upload(profile.files, 'profile')" style="display:none;">
  <button type="button" class="btn btn-success" (click)="profile.click()">Upload Image</button>

  <!-- Upload facility image button -->
  <div style="text-align: center">
    <input type="file" accept="image/*" #slideImage (change)="upload(slideImage.files, 'facility')"
      style="display:none;">
    <button type="button" class="btn btn-success" (click)="slideImage.click()">Upload image</button>
  </div>

  <!-- Delete Next year squadPlayer button -->
  <input type="button" class="btn btn-success" value="Delete" (click)="deleteSquadPlayer('Next Year')">

  <!-- Delete Club value button -->
  <input type="button" class="btn btn-success" value="Delete" (click)="deleteClubValue()">

  <!-- Delete Club preference button -->
  <input type="button" class="btn btn-success" value="Delete" (click)="deleteClubPreference()">

  <!-- Delete Job position button -->
  <input type="button" class="btn btn-success" value="Delete" (click)="deleteJobPosition()">

  <!-- Delete Job position strength button -->
  <input type="button" class="btn btn-success" value="Delete" (click)="deleteJobPositionStrength()">
  <mat-accordion class="example-headers-align">
    <!-- Club Info -->
    <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)">
      <mat-expansion-panel-header>
        <mat-panel-title>Club Info</mat-panel-title>
      </mat-expansion-panel-header>
      <mat-form-field>
        <input matInput placeholder="Current Password" [formControl]="currentPassword" type="password"
          [errorStateMatcher]="validate">
        <mat-error *ngIf="currentPassword?.hasError('minlength') && !passwordControl?.hasError('required')">
          Password must be at least 6 characters
        </mat-error>
        <mat-error *ngIf="currentPassword?.hasError('required')">
          Password is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="New Password" [formControl]="password" type="password"
          [errorStateMatcher]="validate">
        <mat-error *ngIf="password?.hasError('minlength') && !passwordControl?.hasError('required')">
          Password must be at least 6 characters
        </mat-error>
        <mat-error *ngIf="password?.hasError('required')">
          Password is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <br>
      <!-- NEED AN UPDATE PASSWORD BUTTON -->
      <button mat-button color="primary">Update Password</button>
      <br>
      <mat-form-field>
        <input matInput placeholder="Club Name" [value]="clubBinding.name" [formControl]="name"
          [errorStateMatcher]="validate">
        <mat-error *ngIf="name?.hasError('required')">
          Club name is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-select matInput placeholder="League" [value]="clubBinding.league" [formControl]="league"
          [errorStateMatcher]="validate">
          <mat-option *ngFor="let league of leagueList" [value]="league.valueOf()">{{league}}</mat-option>
        </mat-select>
        <mat-error *ngIf="league?.hasError('required')">
          League is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Street Address" [value]="clubBinding.streetAddress" [formControl]="streetAddress"
          [errorStateMatcher]="validate">
        <mat-error *ngIf="streetAddress?.hasError('required')">
          Street Address is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Street Number" [value]="clubBinding.streetNumber" [formControl]="streetNumber"
          [errorStateMatcher]="validate">
        <mat-error *ngIf="streetNumber?.hasError('pattern') && !streetNumber.hasError('required')">
          Street number must be a number
        </mat-error>
        <mat-error *ngIf="streetNumber?.hasError('required')">
          Street number is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="threeFieldsOnSameRow">
        <mat-select matInput placeholder="Country" [value]="clubBinding.country" [formControl]="country"
          [errorStateMatcher]="validate">
          <mat-option *ngFor="let country of countryList" [value]="country.valueOf()">{{country}}</mat-option>
        </mat-select>
        <mat-error *ngIf="country?.hasError('required')">
          Country is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="threeFieldsOnSameRow">
        <input matInput placeholder="City" [value]="clubBinding.city" [formControl]="city"
          [errorStateMatcher]="validate">
        <mat-error *ngIf="city?.hasError('required')">
          City is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="threeFieldsOnSameRow">
        <input matInput placeholder="Zipcode" [value]="clubBinding.zipcode" [formControl]="zipcode"
          [errorStateMatcher]="validate">
        <mat-error *ngIf="zipcode.hasError('required')">
          Zipcode is <strong>required</strong>
        </mat-error>
      </mat-form-field>

      <mat-action-row>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>

    <!-- Regular Training Schedule -->
    <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)">
      <mat-expansion-panel-header>
        <mat-panel-title>Regular Training Schedule</mat-panel-title>
      </mat-expansion-panel-header>
      <mat-hint>Continue to keep your current schedule or delete to remove your schedule.</mat-hint><br><br>
      <mat-label>Monday</mat-label><br>
      <mat-form-field>
        <mat-select matInput [placeholder]="regularMonFrom">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select matInput [placeholder]="regularMonTo">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-label>Tuesday</mat-label><br>
      <mat-form-field>
        <mat-select matInput [placeholder]="regularTueFrom">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select matInput [placeholder]="regularTueTo">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-label>Wednesday</mat-label><br>
      <mat-form-field>
        <mat-select matInput [placeholder]="regularWedFrom">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select matInput [placeholder]="regularWedTo">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-label>Thursday</mat-label><br>
      <mat-form-field>
        <mat-select matInput [placeholder]="regularThuFrom">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select matInput [placeholder]="regularThuTo">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-label>Friday</mat-label><br>
      <mat-form-field>
        <mat-select matInput [placeholder]="regularFriFrom">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select matInput [placeholder]="regularFriTo">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-label>Saturday</mat-label><br>
      <mat-form-field>
        <mat-select matInput [placeholder]="regularSatFrom">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select matInput [placeholder]="regularSatTo">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-label>Sunday</mat-label><br>
      <mat-form-field>
        <mat-select matInput [placeholder]="regularSunFrom">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select matInput [placeholder]="regularSunTo">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Delete TrainingHours button -->
      <input type="button" class="btn btn-success" value="Delete Schedule" (click)="deleteTrainingHours()">
      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>

    <!-- Fitness Training Schedule -->
    <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)">
      <mat-expansion-panel-header>
        <mat-panel-title>Fitness Training Schedule</mat-panel-title>
      </mat-expansion-panel-header>
      <mat-hint>Continue to keep your current schedule or delete to remove your schedule.</mat-hint><br><br>
      <mat-label>Monday</mat-label><br>
      <mat-form-field>
        <mat-select matInput [placeholder]="fitnessMonFrom">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select matInput [placeholder]="fitnessMonTo">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-label>Tuesday</mat-label><br>
      <mat-form-field>
        <mat-select matInput [placeholder]="fitnessTueFrom">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select matInput [placeholder]="fitnessTueTo">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-label>Wednesday</mat-label><br>
      <mat-form-field>
        <mat-select matInput [placeholder]="fitnessWedFrom">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select matInput [placeholder]="fitnessWedTo">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-label>Thursday</mat-label><br>
      <mat-form-field>
        <mat-select matInput [placeholder]="fitnessThuFrom">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select matInput [placeholder]="fitnessThuTo">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-label>Friday</mat-label><br>
      <mat-form-field>
        <mat-select matInput [placeholder]="fitnessFriFrom">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select matInput [placeholder]="fitnessFriTo">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-label>Saturday</mat-label><br>
      <mat-form-field>
        <mat-select matInput [placeholder]="fitnessSatFrom">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select matInput [placeholder]="fitnessSatTo">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-label>Sunday</mat-label><br>
      <mat-form-field>
        <mat-select matInput [placeholder]="fitnessSunFrom">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select matInput [placeholder]="fitnessSunTo">
          <mat-option *ngFor="let trainingHour of trainingHours" [value]="trainingHour.value">{{trainingHour.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Delete TrainingHours button -->
      <input type="button" class="btn btn-success" value="Delete Schedule" (click)="deleteTrainingHours()">
      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>

    <!-- Current Season Squad -->
    <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)">
      <mat-expansion-panel-header>
        <mat-panel-title>Current Season Squad</mat-panel-title>
      </mat-expansion-panel-header>

      <!-- Add squad player fields -->
      <mat-form-field class="addPlayerFields">
        <input matInput placeholder="Player name" [formControl]="squadPlayerNameCtrl" [errorStateMatcher]="validate">
      </mat-form-field>
      <mat-form-field class="addPlayerFields">
        <mat-select placeholder="Position" [formControl]="squadPlayerPositionCtrl" [errorStateMatcher]='validate'>
          <mat-option *ngFor="let pos of positionList" [value]="pos.valueOf()">{{pos}}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="addPlayerFields">
        <input matInput placeholder="Shirt number" [formControl]="squadPlayerShirtNumberCtrl"
          [errorStateMatcher]="validate">
        <mat-error *ngIf="numbersOnlyControl?.hasError('pattern')">
          Shirt number must be a number
        </mat-error>
      </mat-form-field>
      <button class="btn btn-success addPlayerButton" (click)="onAddPlayerToSquad()">Add</button><br>

      <!-- squad player table -->
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

        <!-- Shirt Number Column -->
        <ng-container matColumnDef="shirtNumber">
          <th mat-header-cell *matHeaderCellDef> Shirt # </th>
          <td mat-cell *matCellDef="let squadPlayer"> {{squadPlayer.shirtNumber}} </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let squadPlayer"> {{squadPlayer.name}} </td>
        </ng-container>

        <!-- Position Column -->
        <ng-container matColumnDef="position">
          <th mat-header-cell *matHeaderCellDef> Position </th>
          <td mat-cell *matCellDef="let squadPlayer"> {{squadPlayer.position}} </td>
        </ng-container>

        <!-- Delete Column -->
        <ng-container matColumnDef="delete">
          <th mat-header-cell *matHeaderCellDef> Actions </th>
          <td mat-cell *matCellDef="let row">
            <!-- Delete Current year squadPlayer button -->
            <button mat-button color="warn" (click)="deleteSquadPlayer('Current Year')">Delete</button>
            <button mat-button color="primary">Edit</button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>

    <!-- Next Season Squad -->
    <mat-expansion-panel [expanded]="step === 4" (opened)="setStep(4)">
      <mat-expansion-panel-header>
        <mat-panel-title>Next Season Squad</mat-panel-title>
      </mat-expansion-panel-header>

      <!-- Add squad player fields -->
      <mat-form-field class="addPlayerFields">
        <input matInput placeholder="Player name" [formControl]="squadPlayerNameCtrlNext" [errorStateMatcher]="validate">
      </mat-form-field>
      <mat-form-field class="addPlayerFields">
        <mat-select placeholder="Position" [formControl]="squadPlayerPositionCtrlNext" [errorStateMatcher]='validate'>
          <mat-option *ngFor="let pos of positionList" [value]="pos.valueOf()">{{pos}}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="addPlayerFields">
        <input matInput placeholder="Shirt number" [formControl]="squadPlayerShirtNumberCtrlNext"
          [errorStateMatcher]="validate">
        <mat-error *ngIf="numbersOnlyControl?.hasError('pattern')">
          Shirt number must be a number
        </mat-error>
      </mat-form-field>
      <button class="btn btn-success addPlayerButton" (click)="onAddPlayerToNextYearSquad()">Add</button><br>

      <!-- squad player table -->
      <table mat-table [dataSource]="nextYearSquadSource" class="mat-elevation-z8">

        <!-- Shirt Number Column -->
        <ng-container matColumnDef="shirtNumber">
          <th mat-header-cell *matHeaderCellDef> Shirt # </th>
          <td mat-cell *matCellDef="let nextYearSquadPlayer"> {{nextYearSquadPlayer.shirtNumber}} </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let nextYearSquadPlayer"> {{nextYearSquadPlayer.name}} </td>
        </ng-container>

        <!-- Position Column -->
        <ng-container matColumnDef="position">
          <th mat-header-cell *matHeaderCellDef> Position </th>
          <td mat-cell *matCellDef="let nextYearSquadPlayer"> {{nextYearSquadPlayer.position}} </td>
        </ng-container>

        <!-- Delete Column -->
        <ng-container matColumnDef="delete">
          <th mat-header-cell *matHeaderCellDef> Actions </th>
          <td mat-cell *matCellDef="let row">
            <!-- Delete Current year squadPlayer button -->
            <button mat-button color="warn">Delete</button>
            <button mat-button color="primary">Edit</button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="nextYearSquadColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: nextYearSquadColumns;"></tr>
      </table>      

      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>

    <!-- Open Positions -->
    <mat-expansion-panel [expanded]="step === 5" (opened)="setStep(5)">
      <mat-expansion-panel-header>
        <mat-panel-title>Open Positions</mat-panel-title>
      </mat-expansion-panel-header>

      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>

    <!-- Staff -->
    <mat-expansion-panel [expanded]="step === 6" (opened)="setStep(6)">
      <mat-expansion-panel-header>
        <mat-panel-title>Staff</mat-panel-title>
      </mat-expansion-panel-header>

      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>

    <!-- Values and Preferences -->
    <mat-expansion-panel [expanded]="step === 7" (opened)="setStep(7)">
      <mat-expansion-panel-header>
        <mat-panel-title>Values and Preferences</mat-panel-title>
      </mat-expansion-panel-header>

      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>

    <!-- Pictures -->
    <mat-expansion-panel [expanded]="step === 8" (opened)="setStep(8)">
      <mat-expansion-panel-header>
        <mat-panel-title>Pictures</mat-panel-title>
      </mat-expansion-panel-header>

      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()">End</button>
      </mat-action-row>
    </mat-expansion-panel>
  </mat-accordion>
  <br>
  <!-- Update button -->
  <input type="button" class="btn btn-success" value="Update" (click)="updateClub()">
</div>