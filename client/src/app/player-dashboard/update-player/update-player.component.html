<app-header></app-header>
<div class="well custom-container forPlayerClubBackgroundColor">
  <mat-accordion class="example-headers-align">
    <!-- Personal Info -->
    <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)">
      <mat-expansion-panel-header>
        <mat-panel-title>Personal Info</mat-panel-title>
      </mat-expansion-panel-header>

      <mat-label>Update Password</mat-label><br>
      <mat-form-field>
        <input matInput placeholder="Current Password" [formControl]="currentPassword" type="password"
          [errorStateMatcher]="validate">
        <mat-error *ngIf="currentPassword?.hasError('minlength') && !passwordControl?.hasError('required')">
          Password must be at least 6 characters
        </mat-error>
        <mat-error *ngIf="currentPassword?.hasError('required')">
          Password is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="New Password" [formControl]="password" type="password"
          [errorStateMatcher]="validate">
        <mat-error *ngIf="password?.hasError('minlength') && !passwordControl?.hasError('required')">
          Password must be at least 6 characters
        </mat-error>
        <mat-error *ngIf="password?.hasError('required')">
          Password is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="First Name" [formControl]="firstNameControl" [value]="playerBinding.firstName" [errorStateMatcher]="validate">
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Last Name" [formControl]="lastNameControl" [value]="playerBinding.lastName" [errorStateMatcher]="validate">
      </mat-form-field>
      <mat-form-field>
        <mat-select [value]="playerBinding.country" placeholder="Country" [formControl]="countryControl" [errorStateMatcher]="validate">
          <mat-option *ngFor="let country of countryList" value="country">{{country}}</mat-option>
        </mat-select>
      </mat-form-field><br>
      <mat-form-field class="threeFieldsOnSameRow">
        <input id="playerDay" matInput placeholder="Day (DD)" [formControl]="dayControl" [errorStateMatcher]='validate'>
        <mat-error
          *ngIf="dayControl?.hasError('minlength') || dayControl?.hasError('maxlength') && !dayControl?.hasError('pattern') && !dayControl?.hasError('required')">
          Day of birth must be 2 characters
        </mat-error>
        <mat-error *ngIf="dayControl?.hasError('pattern') && !dayControl?.hasError('required')">
          Day of birth must be a number
        </mat-error>
        <mat-error *ngIf="dayControl?.hasError('required')">
          Day is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="threeFieldsOnSameRow">
        <mat-select id="playerMonth" placeholder="Select Month" [formControl]="monthControl" [errorStateMatcher]='validate'>
          <mat-option value="01">January</mat-option>
          <mat-option value="02">February</mat-option>
          <mat-option value="03">March</mat-option>
          <mat-option value="04">April</mat-option>
          <mat-option value="05">May</mat-option>
          <mat-option value="06">June</mat-option>
          <mat-option value="07">July</mat-option>
          <mat-option value="08">August</mat-option>
          <mat-option value="09">September</mat-option>
          <mat-option value="10">October</mat-option>
          <mat-option value="11">November</mat-option>
          <mat-option value="12">December</mat-option>
        </mat-select>
        <mat-error *ngIf="monthControl?.hasError('required')">
          Month is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="threeFieldsOnSameRow">
        <input id="playerYear" matInput placeholder="Year (YYYY)" [formControl]="yearControl" [errorStateMatcher]='validate'>
        <mat-error
          *ngIf="yearControl?.hasError('minlength') || yearControl?.hasError('maxlength') && !yearControl?.hasError('pattern') && !yearControl?.hasError('required')">
          Year must be a number
        </mat-error>
        <mat-error *ngIf="yearControl?.hasError('pattern') && !yearControl?.hasError('required')">
          Year must be 4 characters
        </mat-error>
        <mat-error *ngIf="yearControl?.hasError('required')">
          Year is <strong>required</strong>
        </mat-error>
      </mat-form-field>


      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>

    <!-- Additional Info -->
    <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)">
      <mat-expansion-panel-header>
        <mat-panel-title>Additional Info</mat-panel-title>
      </mat-expansion-panel-header>

      <mat-label>Measurements</mat-label>
      <br>
      <mat-form-field class="threeFieldsOnSameRow">
        <input id="playerHeight" matInput placeholder="Height in cm" [value]="playerBinding.height" [formControl]="heightControl" [errorStateMatcher]='validate'>
        <mat-error *ngIf="heightControl?.hasError('pattern')">
          Height must be a number
        </mat-error>
      </mat-form-field>
      <mat-form-field class="threeFieldsOnSameRow">
        <input id="playerWeight" matInput placeholder="Weight in kg" [value]="playerBinding.weight" [formControl]="weightControl" [errorStateMatcher]='validate'>
        <mat-error *ngIf="weightControl?.hasError('pattern')">
          Weight must be a number
        </mat-error>
      </mat-form-field>
      <mat-form-field class="threeFieldsOnSameRow">
        <input id="playerBodyfat" matInput placeholder="Bodyfat in %" [value]="playerBinding.bodyfat" [formControl]="bodyfatControl" [errorStateMatcher]='validate'>
        <mat-error *ngIf="bodyfatControl?.hasError('pattern')">
          Body fat must be a number
        </mat-error>
      </mat-form-field>

      <mat-label>Positions</mat-label>
      <br>
      <mat-form-field>
        <mat-select placeholder="Primary position" [formControl]="primaryPositionCtrl" [errorStateMatcher]='validate'>
          <mat-option *ngFor="let position of positionList" value="position">{{position}}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select placeholder="Secondary position" [formControl]="secondaryPositionCtrl" [errorStateMatcher]='validate'>
          <mat-option *ngFor="let position of positionList" value="position">{{position}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-label>Preferred hand</mat-label>
      <br>
      <mat-form-field class="doubleSizeField">
        <mat-select id="playerHandPreference" placeholder="Select Hand" [formControl]="preferredHandCtrl" [errorStateMatcher]='validate'>
          <mat-option value="Right">Right Hand</mat-option>
          <mat-option value="Left">Left Hand</mat-option>
          <mat-option value="Both">Both Hands</mat-option>
        </mat-select>
      </mat-form-field>

      <br>
      <mat-label>League</mat-label>
      <br>
      <mat-form-field class="doubleSizeField">
        <mat-select id="playerLeague" placeholder="Select League" [formControl]="leagueCtrl" [errorStateMatcher]='validate'>
          <mat-option value="First League">First League</mat-option>
          <mat-option value="Second League">Second League</mat-option>
          <mat-option value="Third League">Third League</mat-option>
        </mat-select>
      </mat-form-field>

      <br>
      <mat-label>Contract Status</mat-label><br>
      <mat-form-field>
        <mat-select id="playerContractStatus" matInput placeholder="Contract Status" [formControl]="contractStatusCtrl"
          [errorStateMatcher]='validate'>
          <mat-option value="Active">Active</mat-option>
          <mat-option value="Open for Offers">Open for Offers</mat-option>
          <mat-option value="In Negotiation">In Negotiation</mat-option>
          <mat-option value="Contract Expired">Contract Expired</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <input id="playerContractDate" matInput [matDatepicker]="contractPicker" [formControl]="contractExpiredCtrl"
          placeholder="Contract Expiration">
        <mat-datepicker-toggle matSuffix [for]="contractPicker"></mat-datepicker-toggle>
        <mat-datepicker #contractPicker></mat-datepicker>
      </mat-form-field>

      <br>
      <mat-label>Injury</mat-label><br>
      <mat-form-field class="threeFieldsOnSameRow">
        <mat-select id="playerInjuryStatus" placeholder="Status" [formControl]="injuryStatusCtrl" [errorStateMatcher]="validate">
          <mat-option value="Injured">Injured</mat-option>
          <mat-option value="Healthy">Healthy</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="threeFieldsOnSameRow">
        <input id="playerInjuryDescription" matInput placeholder="Injury" [formControl]="injuryDescriptionCtrl" [errorStateMatcher]='validate'>
      </mat-form-field>
      <mat-form-field class="threeFieldsOnSameRow">
        <input id="playerInjuryDate" matInput [matDatepicker]="picker" [formControl]="injuryRecoveryDateCtrl"
          placeholder="Expected Recovery Date">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>

    <!-- Strengths and Weaknesses -->
    <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)">
      <mat-expansion-panel-header>
        <mat-panel-title>Strengths and Weaknesses</mat-panel-title>
      </mat-expansion-panel-header>



      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>

    <!-- Sport CV -->
    <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)">
      <mat-expansion-panel-header>
        <mat-panel-title>Sport CV</mat-panel-title>
      </mat-expansion-panel-header>



      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>

    <!-- National Team -->
    <mat-expansion-panel [expanded]="step === 4" (opened)="setStep(4)">
      <mat-expansion-panel-header>
        <mat-panel-title>National Team</mat-panel-title>
      </mat-expansion-panel-header>



      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>

    <!-- Profile Picture -->
    <mat-expansion-panel [expanded]="step === 5" (opened)="setStep(5)">
      <mat-expansion-panel-header>
        <mat-panel-title>Profile Picture</mat-panel-title>
      </mat-expansion-panel-header>



      <mat-action-row>
        <button mat-button color="warn" (click)="prevStep()">Previous</button>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>
  </mat-accordion>


  <!-- Upload profile button -->
  <input type="file" accept="image/*" #profile (change)="upload(profile.files, 'profile')" style="display:none;">
  <button type="button" class="btn btn-success" (click)="profile.click()">Upload File</button>

  <!-- Upload video button -->
  <div style="text-align: center">
    <input type="file" accept="video/*" #video (change)="upload(video.files, 'video')" style="display:none;">
    <button type="button" class="btn btn-success" (click)="video.click()">Upload File</button>
  </div>

  <!-- Delete NationalTeam button -->
  <input type="button" class="btn btn-success" value="Delete" (click)="deleteNationalTeam()">

  <!-- Delete Player weakness button -->
  <input type="button" class="btn btn-success" value="Delete" (click)="deletePlayerWeakness()">

  <!-- Delete Player strength button -->
  <input type="button" class="btn btn-success" value="Delete" (click)="deletePlayerStrength()">

  <!-- Update button -->
  <input type="button" class="btn btn-success" value="Update" (click)="updatePlayer()">
</div>